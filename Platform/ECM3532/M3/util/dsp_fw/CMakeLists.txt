set(var1 "CONFIG_LSM6DSL_DSP")
set(var2 "CONFIG_LSM6DSL_FFT_DSP")
set(var3 "CONFIG_SENSOR_TIMESTAMP")
set(var4 "CONFIG_RPC")
set(var5 "CONFIG_EXECUTOR")
set(var6 "CONFIG_PDM_TEST")

GETCONFIG(var1en ${var1})
GETCONFIG(var2en ${var2})
GETCONFIG(var3en ${var3})
GETCONFIG(var4en ${var4})
GETCONFIG(var5en ${var5})
GETCONFIG(var6en ${var6})
string(COMPARE EQUAL "${var1en}" y _cmp1)
string(COMPARE EQUAL "${var2en}" y _cmp2)
string(COMPARE EQUAL "${var3en}" y _cmp3)
string(COMPARE EQUAL "${var4en}" y _cmp4)
string(COMPARE EQUAL "${var5en}" y _cmp5)
string(COMPARE EQUAL "${var6en}" y _cmp6)
if (_cmp1 AND _cmp3)
    set (dspfw "dsp_fw_lsm6dsl_ts.c")
elseif (_cmp2)
    set (dspfw "dsp_fw_comp_lsm6dsl_fft.c")
elseif (_cmp1)
    set (dspfw "dsp_fw_lsm6dsl.c")
elseif (_cmp5)
    set (dspfw "dsp_fw_cifar10.c")
elseif (_cmp6)
    set (dspfw "dsp_fw_pdm.c")
elseif (_cmp4)
    set (dspfw "dsp_fw.c")
endif()
target_sources(${PROJECT_NAME}.elf PRIVATE
    "${CMAKE_CURRENT_LIST_DIR}/${dspfw}")
set_property(GLOBAL PROPERTY dspfw_property
    "${CMAKE_CURRENT_LIST_DIR}/${dspfw}")
